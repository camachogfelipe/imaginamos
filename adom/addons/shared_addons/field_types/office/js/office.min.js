(function(b){
    var c='[data-fieldtype="office"]';
    function a(d){
        var f=b('[name="'+b(this).data("building-name")+'"]').val(),e=b(this).data("value");
        if(f){
            b.ajax({
                url:SITE_URL+"streams_core/public_ajax/field/office/get_all_by_building",
                type:"post",
                dataType:"json",
                data:{
                    building_id:f
                },
                beforeSend:function(){
                    return b(c).empty();
                },
                success:function(g){
                    if(g){
                        b.each(g,function(j,h){
                            var i=b("<option />",{
                                value:j,
                                text:h
                            }).appendTo(c);
                            if(e==j&&d===true){
                                i.attr("selected","selected");
                            }
                        });
                }
            },
            complete:function(){
                return b(c).trigger("liszt:updated").trigger("change");
            }
        });
}
}
b(function(){
    b('[name="'+b(c).data("building-name")+'"]').change(function(){
        a.call(b(c));
    });
    a.call(b(c),true);
});
})(jQuery);